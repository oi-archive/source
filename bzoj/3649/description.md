
# Description

<div class="content"><p><span style="font-size: medium">YJC 在学完了幂函数之后表示很兴奋，他总是在琢磨如何更好的用数的整数次幂来表示一个数，比如说16 = 2^4 = 2^2^2<br/>
，于是他给每一种表示方法定义了一个价值：若一个数被表示<br/>
成a1^a2^…a^ (ai &gt; 1, N &gt; 1)，那么这个表示方法的价值就是N（如样例中写成16 = 2^2^2的价值就是 3） ，现在 YJC向你提出了一个问题：给了你若干个数，这些数以价值为 3的表示形式给出，问有多少种不同的价值至少为3的表示方式。 <br/>
</span></p></div>

# Input

<div class="content"><p><font size="4">输入一个形如A^B^C的字符串和一个整数P，表示一个价值为3的表示方式。 </font></p>
<p><span style="font-size: medium"> </span></p></div>

# Output

<div class="content"><p><br/>
<font size="4">输出一行表示答案模P。</font></p>
<p></p></div>

# Sample Input

<div class="content"><span class="sampledata">4^2^2</span></div>

# Sample Output

<div class="content"><span class="sampledata">2</span></div>

# Hint

<div class="content"><p></p><p><span style="font-size: medium"><br/><br/>
P&lt;=10^9 <br/><br/>
</span></p><p></p></div>

# Source

<div class="content"><p><a href="problemset.php?search="></a></p></div>

